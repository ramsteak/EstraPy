---
title: General syntax
parent: Commands
nav_order: 1
permalink: /commands/general-syntax/
---

# General syntax

All EstraPy input files must follow some general grammar rules. When an input file is invoked, it is first parsed, and the parser will alert you to any errors. After this parsing process, the file will be run.

## Header

Input files must declare the EstraPy version they are written for as the first line. If the file version is too new, the program will alert you to update your installed version, if the version is too old the program will attempt to update the input file to the newer version.

```sh
# version: 1.0.0
```

## Directives

The first section of the file, right after the version line, is dedicated to directives, which are preceded by `%`. These are not commands, as they do not operate on the data, rather they operate on the working environment itself.

### Clear

```sh
% clear
```

This directive clears the output folder, removing the files generated by previous runs of the program. This way, the log file only contains the latest run of the program, and minimizes the confusion on file generation.

### Define

```sh
% define <variable> <value>
```

The `% define` directive sets an input-file variable, for writing convenience. The value will be replaced directly in the input file, wherever the placeholder `${variable}` or `%variable%` is found. This permits to define, for example, an input-file variable for the k-weighting, so that the value can be used in all relative commands and plotting.

## Comments

In order to mark an entire line as a comment, its first character must be a `#`. Comment lines will be ignored during parsing.

## Commands

The main content of the file are commands. The commands start at the beginning of a line, and follow shell-command syntax. The specific options for each command are outlined in the following sections.

The commands can be split into multiple lines for ease of readability, making command lines shorter and more easily read. In order to split a command into multiple parts, all the lines other than the first must start with at least one space, as in the example.

```sh
plot --fig 1:1.2
     --xlabel "$Wavevector\ [Å^{-1}]$"
     --ylabel "$Signal\ intensity$"
     --title  "$\chi^{exp}(k)$"
```

Lines of a single command cannot be separated by comments. These two examples would lead to syntax errors.

```sh
plot --fig 1:1.2
--xlabel "$Wavevector\ [Å^{-1}]$"
```

```sh
plot --fig 1:1.2
# Set the label for the x axis
     --xlabel "$Wavevector\ [Å^{-1}]$"
```
